[pytest]
# Configuration pytest pour éviter les doublons et optimiser les performances

# Répertoires de test
testpaths = tests

# Patterns de fichiers de test
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Options par défaut
addopts = 
    --strict-markers
    --strict-config
    --disable-warnings
    --tb=short
    -v

# Marqueurs personnalisés
markers =
    slow: tests qui prennent plus de temps
    integration: tests d'intégration
    unit: tests unitaires
    security: tests de sécurité

# Note: Pour utiliser timeout, installer pytest-timeout et utiliser --timeout=300

# Options de cache
cache_dir = .pytest_cache

# Options de logging
log_cli = false
log_cli_level = INFO

# Répertoires à ignorer lors de la collecte
norecursedirs = build dist .eggs *.egg arkalia_cia_venv .git __pycache__ .pytest_cache

# Configuration pour éviter les doublons
# Le script run_tests.sh nettoie automatiquement avant chaque exécution
